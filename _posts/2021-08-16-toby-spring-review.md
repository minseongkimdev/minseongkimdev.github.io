---
title: "토비의 스프링 서평"
layout: post
category: Review
---

## 0. 프롤로그

> 다른 책과의 가장 큰 차이점은 전개방식이라고 할 수 있다.

> 일부러 냄새나는 코드를 보여주고 철저히 **객체지향의 원칙**을 지키기 위해 서서히 리팩토링 해가며

> **스프링 왜 이런 구조를 띄고 있고** **DI, AOP, PSA 같은 개념이 왜 도입될 수 밖에 없었는지**에 이해시켜 준다.


## 1. 읽기 전


스프링 개발 경험이 없어도 워낙 유명한 책이다 보니, 이 책의 존재는 알고 있었다.

하지만 책을 구매해서 실물을 영접하니 두께에 압도되어 한번 놀라고, 이 두꺼운 책이 두 권이라는 사실에 한번 더 놀랐다.

하지만 1장을 읽자마자 단순히 긴 책이 아니라는 생각이 들었다.

일부러 냄새가 나는 코드를 보여주고, 객체지향 원칙에 입각해 서서히 리팩토링해가는 과정을 보여주며 독자를 이해시켜주었고, 친절하게 설명해주기 위해 길다는 것을 이해하게 되었다. 

하지만 설명의 호흡이 길어 흐름을 놓치게 될 수 있으니 구글링을 통해 요약을 간단히 읽거나 매장 마지막에 있는 요약을 먼저 읽는것을 추천하고 싶다.
(오히려 스포일러가 된다고 생각하면 이 책이 인도하는대로 순서에 따라 읽으면 된다.)

이 책의 진입장벽은 책의 분량과 방대하고 깊이있는 설명이 가장 큰 요인중 하나라고 생각한다.

그래서 스프링을 처음 접하거나 초심자분들껜 **스프링 입문을 위한 자바 객체지향의 원리와 이해**라는 책을 먼저 읽는 것을 추천하고 싶다.

책 제목 그대로 스프링 입문자들을 위한 책이며 특히 객체지향과 스프링에서 자주 사용되는 디자인 패턴에 초점을 둔 책이다.

간단한 예시 코드를 통해 쉽게 디자인 패턴에 대해 쉽게 이해할 수 있으니 토비의 스프링 이전에 읽으면 한결 수월할 것이다.

그리고 이 책을 읽은 뒤 토비의 스프링을 읽으면 '템플릿 콜백 패턴이 무엇인지는 알겠는데 왜 쓰이고 스프링의 어떤부분에 쓰일까?' 라는 궁금증을 해결해줄 것이다.


## 2. 결과보다는 과정에 집중한다

토비의 스프링이 좋은 책이라고 평가받는 이유중 하나는 결과론적으로 단순 지식을 전달하지 않는다.

'A가 없으면 어떻게 될까~? 겁나 불편하겠지? 있어야 겠지?' 납득 시켜준다.

일례를 들어주면

3장 236쪽에 "DI를 위해서는 주입되는 오브젝트와 주입받는 오브젝트 양쪽 모두 스프링 빈으로 등록돼야 한다. 스프링이 생성하고 관리하는 IOC 대상이어야 DI에 참여할 수 있기 때문이다." 라는 문구가 있다. 간간히 정말 기본적이어서 간혹 놓칠 수 있는 개념을 짚어줘서 좋았다. 


5장에서 서비스 추상화에서 3장에서 설명했던 JDBCTemplate에 트랜잭션 동기화를 적용하기 위해 설명하는게 구조적으로 스프링이 왜 이런 구조를 취하고 있는지 이어서 설명해서 완성하는게 인상적이었다.

책을 읽기 전에 @Autowried를 공부했었을 때는 그냥 스프링 포스트 빈 프로세서가 어드바이저를 통해 프록시를 만들어주는가 결과적으로만 알고 있었으나.

JDK 다이나믹 프록시를 사용하면 타겟 오브젝트 마다 일일이  스프링의 프록시 팩토리 빈을 이용해서 다이나믹 프록시 생성에 DI를 도입해서 템플릿 콜백 패턴을 활용하는 스프링ㅇ의 프롟시 팩토리 빈 덕분에 어드바이저를 프록시에서 분리할 수 있었고 여러 프록시에서 공유할 수 있게 됐고 (이런 맥락 설명하기)(1권 502쪽)

언젠간 내 블로그 글들을 취합해 개발자들에게 도움이 될 수 있는 책을 한권 쓰는게 내 단기 목표이다.
나도 많은 개발자들에게 좋은 영향력을 줄 수 있는 책을 내고 싶다.



블로그를 통해 오토와이어링에 대해 먼저 공부했는데 6장 aop 프록시에서 명쾌하게 이해시켜 줬음

6장을 읽을때 어노테이션에 대한 공부를 해서 결과는 알고 있었다. 빈 포스트 프로세서가 처리해준다는 것을. 하지만, 6장을 읽는 순간 왜!를 알려줬다.



이 책의 진가는 서비스 추상화 -> 

AOP로 상관없는것 끼리 분리
다른 계층으로 서비스 추상화 

트랜잭션 경계설정이라는 소재 좋은 기술적인 소재를 가지고 스프링의 핵심 기술 설명하는데 1+1 개이득 이었다.

객체지향은 SOlid 캡상추다 이렇게 암기하는게 아니라 느껴야한다

좋은 설계을 워한 필수조건인데 어떤 상황에서 어떤 이범이 있는지 모르고 암기로 해결? ㄴㄴ

왜 팔요한지에 대한

스프링도 스프링이지만 객체지향 공부도 된다

결론적으로 스프링의 현재 모습을 보여주지만 

객체지향 설계의 장점과 그 적용 과정을 보여주면서


독자와의 밀당

인터페이스로 분리했는데 특정 기술에 종속됐네? 어떻게하지? 다음장에서 설명해줄게 ~ 
서비스 추상화로 기술과도 독립시켜버렸다.
이런점에서책의 구성이 맘에 든다. 길어질수 밖에 없어 호불호가 갈릴수 있겠지만 하지만 개인적으로는 좋았다.




## 

거의 매 장마다 코드들이 자주 등장하는데 그 코드에 대한 테스트코드들도 함께 포함되어 있어





## 3. 글을 마치며

어떻게 보면 스프링을 본격적으로 개발하기 전에 이론적으로 공부를 먼저 할 수 있었던건 행운이었다.

책을 읽으면서 직간적적으로 도움을 받은 글들이다.

2장 733 페이지에서 스프링은 매우 일관된 방식으로 작성된 프레임워크이기 때문에 한번 원리를 알고 나면 어떤 세로운 기능이라도 어렵지 않게 이해하고 사용할 수 있다.

사실 안드로이드에 Dagger2(Hilt) 라는 DI 라이브러리가 있는데 부끄럽지만 그냥 쓰는가보다 하고 썼었다.


소프트웨어는 변한다. 비지니스적인 요구사항은 끊임없이 변화한다. 하지만 일관된 원칙으로 확장할 수 있다는게 얼마나 아름다운것인지 여러분들도 느껴봤으면 하는 바이다.


내가 며칠전에 썼던 템플릿 관련 글에서도 말했듯이 ~Template이 나오면 아 템플릿 콜백 패턴이겠구나 스프링의 일관성을 믿어서 가능한 일이었다.

다소 글이 길어졌다. 그 만큼의 영감과 많은 생각을 준 책이라 생각하고 이 책을 소개해주시고 이해하는데 큰 도움을 주신 스타디장님과 이 책의 저자이신 토비님께 감사함을 표한다.


> **리팩토링은 한순간에 되는 것이 아니기에** 여러 스텝에 걸쳐 리팩토링 과정을 보여준다.
 
>  그러다 보니 분량이 매우 많고 중간에 맥락을 놓치면 그 뒤부터 내용을 이해하기 매우 어려워질 수 있다.

현재는 스프링 5번대 까지 나왔지만 3.1 버전을 다루고 있다.
하지만 스프링의 핵심원리는 3.1부터 그대로 이어지고 있다.


가장 마음에 드는 점은 스프링 왜 이런 구조를 띄고 있는지, 그렇지 않으면 어떤 불편한 점이 있는지 과정을 통해 이해시켜 준다.
